(function(){(function(b){var $="currentScript";$ in b||Object.defineProperty(b,$,{get:function(){try{throw new Error}catch(K){var O=0,J=/.*at [^(]*\((.*):(.+):(.+)\)$/ig.exec(K.stack),h=J&&J[1]||!1,V=J&&J[2]||!1,F=b.location.href.replace(b.location.hash,""),D,L,M,x=b.getElementsByTagName("script");for(h===F&&(D=b.documentElement.outerHTML,L=new RegExp("(?:[^\\n]+?\\n){0,"+(V-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),M=D.replace(L,"$1").trim());O<x.length;O++)if(x[O].readyState==="interactive"||x[O].src===h||h===F&&x[O].innerHTML&&x[O].innerHTML.trim()===M)return x[O];return null}}})})(document);var _t=function(){if(!document.currentScript)return!1;for(var b=null,$=[Object,Function,Number],O=0;b===null&&O<$.length;)b=$[O].prototype.toString,String(b).indexOf("native")===-1&&(b=null,O+=1);var J=Function.prototype.toString,h=/^\[object .+?Constructor\]$/,V=RegExp("^"+String(b).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=b===null?function(R){return!0}:function(R){var A=typeof R;return A=="function"?V.test(J.call(R)):R&&A=="object"&&h.test(b.call(R))||!1},D="https://www.thehotelsnetwork.com/polyfill/v3/polyfill.min.js",L={generic:{test:function(){const W=!!(window.URL&&"Symbol"in self&&window.EventSource&&window.fetch&&"name"in Function.prototype&&"isInteger"in Number&&"MAX_SAFE_INTEGER"in Number&&"Promise"in self&&[].fill&&[].flat&&[].includes&&[].flatMap&&Object.assign&&window.Map&&window.WeakMap&&window.requestIdleCallback&&"navigator"in self&&"sendBeacon"in navigator&&typeof navigator.sendBeacon=="function"&&"AbortController"in self&&typeof self.AbortController=="function"&&"padStart"in String.prototype&&"padEnd"in String.prototype&&"replaceAll"in String.prototype&&"includes"in String.prototype),R=document.querySelector('script[src="'+L.generic.urls[0]+'"]')!==null;return!W&&!R},urls:[`${D}?version=3.111.0&features=Symbol%2Cdefault%2Cfetch%2CEventSource%2CFunction.name%2CNumber.isInteger%2CNumber.MAX_SAFE_INTEGER%2CWeakMap%2CrequestIdleCallback%2CArray.prototype.flat%2CArray.prototype.includes%2CArray.prototype.flatMap%2Cnavigator.sendBeacon%2CAbortController%2CString.prototype.padStart%2CString.prototype.padEnd%2CString.prototype.replaceAll`]},"Fn.bind":{test:function(){const W=F(Function.prototype.bind),R=document.querySelector('script[src="'+L["Fn.bind"].urls[0]+'"]')!==null;return!W&&!R},urls:[`${D}?version=3.111.0&features=Function.prototype.bind%7Calways&excludes=Object.defineProperty`]}},M=[window,document,"script"],x=[],K=function(R,A,z,f,d,m){d=A.createElement(z),m=A.currentScript,d.src=f,d.inject=function(){(m.parentNode||A.head).insertBefore(d,m.parentNode&&m||A.head.lastElementChild),setTimeout(d.onload,1e3)},d.onload=function(s){return function(){s||(s=!0,(x.shift()||{inject:function(){}}).inject())}}(!1),x.push(d)},B,X;for(B in L)if(L.hasOwnProperty(B)&&L[B].test())for(X=0;X<L[B].urls.length;X+=1)K.apply(null,M.concat(L[B].urls[X]));var T=x.length;return T&&(K.apply(null,M.concat(document.currentScript.src)),x.shift().inject()),!!T}();_t||function(){"use strict";(function(){typeof self<"u"&&!self.thn&&(self.thn={},function(){function f(t,e){return(e||"")+" (SystemJS https://git.io/JvFET#"+t+")"}var d=typeof Symbol<"u",m=typeof self<"u",s=typeof document<"u",o=m?self:global,i;if(s){var c=document.querySelector("base[href]");c&&(i=c.href)}if(!i&&typeof location<"u"){i=location.href.split("#")[0].split("?")[0];var l=i.lastIndexOf("/");l!==-1&&(i=i.slice(0,l+1))}var y=/\\/g;function a(t,e){if(t.indexOf("\\")!==-1&&(t=t.replace(y,"/")),t[0]==="/"&&t[1]==="/")return e.slice(0,e.indexOf(":")+1)+t;if(t[0]==="."&&(t[1]==="/"||t[1]==="."&&(t[2]==="/"||t.length===2&&(t+="/"))||t.length===1&&(t+="/"))||t[0]==="/"){var r=e.slice(0,e.indexOf(":")+1),n;if(e[r.length+1]==="/"?r!=="file:"?(n=e.slice(r.length+2),n=n.slice(n.indexOf("/")+1)):n=e.slice(8):n=e.slice(r.length+(e[r.length]==="/")),t[0]==="/")return e.slice(0,e.length-n.length-1)+t;for(var u=n.slice(0,n.lastIndexOf("/")+1)+t,v=[],p=-1,g=0;g<u.length;g++)p!==-1?u[g]==="/"&&(v.push(u.slice(p,g+1)),p=-1):u[g]==="."?u[g+1]==="."&&(u[g+2]==="/"||g+2===u.length)?(v.pop(),g+=2):u[g+1]==="/"||g+1===u.length?g+=1:p=g:p=g;return p!==-1&&v.push(u.slice(p)),e.slice(0,e.length-n.length)+v.join("")}}function C(t,e){return a(t,e)||(t.indexOf(":")!==-1?t:a("./"+t,e))}function P(t,e,r,n,u){for(var v in t){var p=a(v,r)||v,g=t[v];if(typeof g=="string"){var nt=w(n,a(g,r)||g,u);nt?e[p]=nt:j("W1",v,g)}}}function G(t,e,r){t.imports&&P(t.imports,r.imports,e,r,null);var n;for(n in t.scopes||{}){var u=C(n,e);P(t.scopes[n],r.scopes[u]||(r.scopes[u]={}),e,r,u)}for(n in t.depcache||{})r.depcache[C(n,e)]=t.depcache[n];for(n in t.integrity||{})r.integrity[C(n,e)]=t.integrity[n]}function _(t,e){if(e[t])return t;var r=t.length;do{var n=t.slice(0,r+1);if(n in e)return n}while((r=t.lastIndexOf("/",r-1))!==-1)}function S(t,e){var r=_(t,e);if(r){var n=e[r];if(n===null)return;if(t.length>r.length&&n[n.length-1]!=="/")j("W2",r,n);else return n+t.slice(r.length)}}function j(t,e,r,n){console.warn(f(t,[r,e].join(", ")))}function w(t,e,r){for(var n=t.scopes,u=r&&_(r,n);u;){var v=S(e,n[u]);if(v)return v;u=_(u.slice(0,u.lastIndexOf("/")),n)}return S(e,t.imports)||e.indexOf(":")!==-1&&e}var Q=d&&Symbol.toStringTag,q=d?Symbol():"@";function U(){this[q]={}}var E=U.prototype;E.import=function(t,e){var r=this;return Promise.resolve(r.prepareImport()).then(function(){return r.resolve(t,e)}).then(function(n){var u=st(r,n);return u.C||wt(r,u)})},E.createContext=function(t){var e=this;return{url:t,resolve:function(r,n){return Promise.resolve(e.resolve(r,n||t))}}};function tt(t){return t.id}function et(t,e,r,n){if(t.onload(r,e.id,e.d&&e.d.map(tt),!!n),r)throw r}var it;E.register=function(t,e){it=[t,e]},E.getRegister=function(){var t=it;return it=void 0,t};function st(t,e,r){var n=e.split("?")[0],u=t[q][n];if(u)return u;var v=[],p=Object.create(null);Q&&Object.defineProperty(p,Q,{value:"Module"});var g=Promise.resolve().then(function(){return t.instantiate(e,r)}).then(function(N){if(!N)throw Error(f(2,e));function Z(I,H){u.h=!0;var k=!1;if(typeof I=="string")(!(I in p)||p[I]!==H)&&(p[I]=H,k=!0);else{for(var ot in I){var H=I[ot];(!(ot in p)||p[ot]!==H)&&(p[ot]=H,k=!0)}I&&I.__esModule&&(p.__esModule=I.__esModule)}if(k)for(var lt=0;lt<v.length;lt++){var yt=v[lt];yt&&yt(p)}return H}var rt=N[1](Z,N[1].length===2?{import:function(I){return t.import(I,n)},meta:t.createContext(n)}:void 0);return u.e=rt.execute||function(){},[N[0],rt.setters||[]]},function(N){throw u.e=null,u.er=N,N}),nt=g.then(function(N){return Promise.all(N[0].map(function(Z,rt){var I=N[1][rt];return Promise.resolve(t.resolve(Z,n)).then(function(H){var k=st(t,H,n);return Promise.resolve(k.I).then(function(){return I&&(k.i.push(I),(k.h||!k.I)&&I(k.n)),k})})})).then(function(Z){u.d=Z})});return u=t[q][n]={id:n,i:v,n:p,I:g,L:nt,h:!1,d:void 0,e:void 0,er:void 0,E:void 0,C:void 0,p:void 0}}function ht(t,e,r,n){if(!n[e.id])return n[e.id]=!0,Promise.resolve(e.L).then(function(){return(!e.p||e.p.e===null)&&(e.p=r),Promise.all(e.d.map(function(u){return ht(t,u,r,n)}))}).catch(function(u){throw e.er||(e.e=null),u})}function wt(t,e){return e.C=ht(t,e,e,{}).then(function(){return dt(t,e,{})}).then(function(){return e.n})}var St=Object.freeze(Object.create(null));function dt(t,e,r){if(r[e.id])return;if(r[e.id]=!0,!e.e){if(e.er)throw e.er;return e.E?e.E:void 0}var n;if(e.d.forEach(function(v){try{var p=dt(t,v,r);p&&(n=n||[]).push(p)}catch(g){throw e.e=null,e.er=g,g}}),n)return Promise.all(n).then(u);return u();function u(){try{var v=e.e.call(St);if(v)return v=v.then(function(){e.C=e.n,e.E=null},function(p){throw e.er=p,e.E=null,p}),e.E=v;e.C=e.n,e.L=e.I=void 0}catch(p){throw e.er=p,p}finally{e.e=null}}}o.thn.System=new U;var ct=Promise.resolve(),Y={imports:{},scopes:{},depcache:{},integrity:{}},pt=s;E.prepareImport=function(t){return(pt||t)&&(at(),pt=!1),ct},s&&(at(),window.addEventListener("DOMContentLoaded",at));function at(){[].forEach.call(document.querySelectorAll("script"),function(t){if(!t.sp){if(t.type==="systemjs-module"){if(t.sp=!0,!t.src)return;System.import(t.src.slice(0,7)==="import:"?t.src.slice(7):C(t.src,i)).catch(function(r){if(r.message.indexOf("https://git.io/JvFET#3")>-1){var n=document.createEvent("Event");n.initEvent("error",!1,!1),t.dispatchEvent(n)}return Promise.reject(r)})}else if(t.type==="systemjs-importmap"){t.sp=!0;var e=t.src?fetch(t.src,{integrity:t.integrity}).then(function(r){if(!r.ok)throw Error(r.status);return r.text()}).catch(function(r){return r.message=f("W4",t.src)+`
`+r.message,console.warn(r),typeof t.onerror=="function"&&t.onerror(),"{}"}):t.innerHTML;ct=ct.then(function(){return e}).then(function(r){Et(Y,r,t.src||i)})}}})}function Et(t,e,r){var n={};try{n=JSON.parse(e)}catch{console.warn(Error(f("W5")))}G(n,r,t)}if(s){window.addEventListener("error",function(t){vt=t.filename,gt=t.error});var bt=location.origin}E.createScript=function(t){var e=document.createElement("script");e.async=!0,t.indexOf(bt+"/")&&(e.crossOrigin="anonymous");var r=Y.integrity[t];return r&&(e.integrity=r),e.src=t,e};var Ct,ut,mt,ft={},xt=E.register;E.register=function(t,e){if(s&&document.readyState==="loading"&&typeof t!="string"){var r=document.querySelectorAll("script[src]"),n=r[r.length-1];if(n){Ct=n.src,ut=t;var u=this;mt=setTimeout(function(){ft[n.src]=[t,e],u.import(n.src)})}}else ut=void 0;return xt.call(this,t,e)};var vt,gt;E.instantiate=function(t,e){var r=ft[t];if(r)return delete ft[t],r;var n=this;return Promise.resolve(E.createScript(t)).then(function(u){return new Promise(function(v,p){u.addEventListener("error",function(){p(Error(f(3,[t,e].join(", "))))}),u.addEventListener("load",function(){if(document.head.removeChild(u),vt===t)p(gt);else{var g=n.getRegister(t);g&&g[0]===ut&&clearTimeout(mt),v(g)}}),document.head.appendChild(u)})})},E.shouldFetch=function(){return!1},typeof fetch<"u"&&(E.fetch=fetch);var Ot=E.instantiate,Pt=/^(text|application)\/(x-)?javascript(;|$)/;E.instantiate=function(t,e){var r=this;return this.shouldFetch(t)?this.fetch(t,{credentials:"same-origin",integrity:Y.integrity[t]}).then(function(n){if(!n.ok)throw Error(f(7,[n.status,n.statusText,t,e].join(", ")));var u=n.headers.get("content-type");if(!u||!Pt.test(u))throw Error(f(4,u));return n.text().then(function(v){return v.indexOf("//# sourceURL=")<0&&(v+=`
//# sourceURL=`+t),(0,eval)(v),r.getRegister(t)})}):Ot.apply(this,arguments)},E.resolve=function(t,e){return e=e||!1||i,w(Y,a(t,e)||t,e)||It(t,e)};function It(t,e){throw Error(f(8,[t,e].join(", ")))}var Tt=E.instantiate;E.instantiate=function(t,e){var r=Y.depcache[t];if(r)for(var n=0;n<r.length;n++)st(this,this.resolve(r[n],t),t);return Tt.call(this,t,e)},m&&typeof importScripts=="function"&&(E.instantiate=function(t){var e=this;return Promise.resolve().then(function(){return importScripts(t),e.getRegister(t)})})}(),function(){(function(f){var d=f.thn.System,m=d.constructor.prototype,s;function o(c){var l=c.split("?"),y=[l[1],s].filter(a=>a).join("&").replace(/\w/,"?$&");return l[0]+y}var i=m.resolve;m.resolve=function(c,l){return s?i.call(this,o(c),l):(s=c.split("?")[1]||"",i.call(this,c,l))}})(typeof self<"u"?self:global)}())})();var b={exports:{}};(function(f,d){(function(m){function s(o,i){i=i||{},this._id=s._generateUUID(),this._promise=i.promise||Promise,this._frameId=i.frameId||"CrossStorageClient-"+this._id,this._origin=s._getOrigin(o),this._requests={},this._connected=!1,this._closed=!1,this._count=0,this._timeout=i.timeout||5e3,this._listener=null,this._store=i.store||"localStorage",this._installListener();var c;i.frameId&&(c=document.getElementById(i.frameId)),c&&this._poll(),c=c||this._createFrame(o),this._hub=c.contentWindow}s.frameStyle={display:"none",position:"absolute",top:"-999px",left:"-999px"},s._getOrigin=function(o){var i,c,l;return i=document.createElement("a"),i.href=o,i.host||(i=window.location),!i.protocol||i.protocol===":"?c=window.location.protocol:c=i.protocol,l=c+"//"+i.host,l=l.replace(/:80$|:443$/,""),l},s._generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var i=Math.random()*16|0,c=o=="x"?i:i&3|8;return c.toString(16)})},s.prototype.onConnect=function(){var o=this;return this._connected?this._promise.resolve():this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):(this._requests.connect||(this._requests.connect=[]),new this._promise(function(i,c){var l=setTimeout(function(){c(new Error("CrossStorageClient could not connect"))},o._timeout);o._requests.connect.push(function(y){if(clearTimeout(l),y)return c(y);i()})}))},s.prototype.set=function(o,i){return this._request("set",{key:o,value:i})},s.prototype.get=function(o){var i=Array.prototype.slice.call(arguments);return this._request("get",{keys:i})},s.prototype.del=function(){var o=Array.prototype.slice.call(arguments);return this._request("del",{keys:o})},s.prototype.clear=function(){return this._request("clear")},s.prototype.getKeys=function(){return this._request("getKeys")},s.prototype.close=function(){var o=document.getElementById(this._frameId);o&&o.parentNode.removeChild(o),window.removeEventListener?window.removeEventListener("message",this._listener,!1):window.detachEvent("onmessage",this._listener),this._connected=!1,this._closed=!0},s.prototype._installListener=function(){var o=this;this._listener=function(i){var c,l,y,a;if(!(o._closed||!i.data||typeof i.data!="string")&&(l=i.origin==="null"?"file://":i.origin,l===o._origin)){if(i.data==="cross-storage:unavailable"){if(o._closed||o.close(),!o._requests.connect)return;for(y=new Error("Closing client. Could not access localStorage in hub."),c=0;c<o._requests.connect.length;c++)o._requests.connect[c](y);return}if(i.data.indexOf("cross-storage:")!==-1&&!o._connected){if(o._connected=!0,!o._requests.connect)return;for(c=0;c<o._requests.connect.length;c++)o._requests.connect[c](y);delete o._requests.connect}if(i.data!=="cross-storage:ready"){try{a=JSON.parse(i.data)}catch{return}a.id&&o._requests[a.id]&&o._requests[a.id](a.error,a.result)}}},window.addEventListener?window.addEventListener("message",this._listener,!1):window.attachEvent("onmessage",this._listener)},s.prototype._poll=function(){var o,i,c;o=this,c=o._origin==="file://"?"*":o._origin,i=setInterval(function(){if(o._connected)return clearInterval(i);o._hub&&o._hub.postMessage("cross-storage:poll",c)},1e3)},s.prototype._createFrame=function(o){var i,c;i=window.document.createElement("iframe"),i.id=this._frameId,i.sandbox="allow-scripts allow-same-origin";for(c in s.frameStyle)s.frameStyle.hasOwnProperty(c)&&(i.style[c]=s.frameStyle[c]);return window.document.body.appendChild(i),i.src=o,i},s.prototype._request=function(o,i){var c,l;return this._closed?this._promise.reject(new Error("CrossStorageClient has closed")):(l=this,l._count++,i=i||{},i.store=this._store,c={id:this._id+":"+l._count,method:"cross-storage:"+o,params:i},new this._promise(function(y,a){var C,P,G;C=setTimeout(function(){l._requests[c.id]&&(delete l._requests[c.id],a(new Error("Timeout: could not perform "+c.method)))},l._timeout),l._requests[c.id]=function(_,S){if(clearTimeout(C),delete l._requests[c.id],_)return a(new Error(_));y(S)},Array.prototype.toJSON&&(P=Array.prototype.toJSON,Array.prototype.toJSON=null),G=l._origin==="file://"?"*":l._origin,l._hub.postMessage(JSON.stringify(c),G),P&&(Array.prototype.toJSON=P)}))},f.exports?f.exports=s:d.CrossStorageClient=s})()})(b,b.exports);var $=b.exports;const O=typeof global=="object"&&global&&global.Object===Object&&global,J=typeof self=="object"&&self&&self.Object===Object&&self,h=O||J||Function("return this")(),V="thn-cross-store",F="data-thn-current",D="__thn_script_src",L={environment:"production"},M={production:{environment:"production",hostname:"www.thehotelsnetwork.com",host:"https://www.thehotelsnetwork.com"},staging:{environment:"staging",hostname:"www.stg.thehotelsnetwork.com",host:"https://www.stg.thehotelsnetwork.com"},local:{environment:"local",hostname:"web.thn",host:"https://web.thn"},test:{environment:"test",hostname:"127.0.0.1",host:"https://127.0.0.1:8080"},__common__:{custom_geoname:"",minified:!0,office:!1,latest:"4.0"}};function x(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const d={};let m=!1;return f.forEach(function(s){d[s]=h[s],delete h[s]}),function(){m||(f.forEach(function(o){h[o]=d[o]}),m=!0)}}function K(f,d){return f.keys().then(m=>Promise.all(m.map(s=>f.open(s)))).then(m=>Promise.all(m.map(s=>s.keys())).then(s=>({caches:m,cacheRequests:s}))).then(m=>{let{caches:s,cacheRequests:o}=m;const i=[];return s.forEach((c,l)=>{o[l].forEach(a=>{d(a)&&i.push(c.delete(a))})}),Promise[Promise.allSettled?"allSettled":"all"](i).catch(()=>"")})}const B=typeof global=="object"&&global&&global.Object===Object&&global,X=typeof self=="object"&&self&&self.Object===Object&&self,T=B||X||Function("return this")(),W=new Promise(function(f){let d,m=!1;function s(){m||(m=!0,d&&clearInterval(d),f())}if(T.document.addEventListener)T.document.addEventListener("DOMContentLoaded",s,!1),T.addEventListener("load",s,!1);else if(T.attachEvent){T.attachEvent("onload",s);let o;const i=T.document.createElement("div");try{o=T.frameElement===null}catch{}i.doScroll&&o&&T.external&&(d=setInterval(function(){try{i.doScroll(),s()}catch{}},30))}(T.document.readyState==="complete"||T.document.readyState==="interactive")&&s()}),R=()=>W;function A(f){let{params:d,baseUrl:m}=f;if(!m)return Promise.reject();const s=new URL(m);return s.pathname="/get_loader_data",Object.keys(d).forEach(o=>s.searchParams.set(o,d[o])),T.fetch(s.toString(),{credentials:"include"}).then(function(o){if(!o.ok)throw Error("".concat(o.status," ").concat(o.statusText));return o.json()})}function z(f){typeof f=="string"&&(f=new URL(f));const[d,m,s,o,i,c,l]=[f.searchParams.get("property_id"),f.searchParams.get("hotel_id"),f.searchParams.get("account_key"),f.searchParams.get("bahiaprincipe_id"),f.searchParams.get("octorate_id"),f.searchParams.get("partnership_id"),f.searchParams.get("partnership_hotel_id")];if(d)return Promise.resolve({property_id:d});if(m||o||i||c&&l){const y=new URL(f);return y.pathname="/get_hotel_property_rel",h.fetch(y.toString()).then(function(a){if(!a.ok)throw Error("".concat(a.status," ").concat(a.statusText));return a.json()}).then(function(a){const C={};return!a||a.result!==1||(a.property_id&&(C.property_id=a.property_id),a.account_key&&(C.account_key=a.account_key)),C})}return s?Promise.resolve({account_key:s}):Promise.resolve({})}(function(){h.rho&&(h.receive_event=function(){const y={_isDummy:!0,_original:h.receiveEvent,_registry:[]};return Object.assign(function(){y._registry.push(arguments)},y)}());const{document:f}=h,{currentScript:d}=f;if(d){const y=Array.from(f.querySelectorAll("script[".concat(F,"]"))),a=y.filter(P=>!(d.src===P.src&&Number(P.getAttribute(F))));a.forEach(P=>{P.setAttribute(F,0)});const C=a.length===y.length?1:0;if(d.setAttribute(F,C),!C)return}const m={backupGlobals:x,domReady:R,getPidOrAccount:z,getLoaderData:A};let s,o=L;const i=h[D]&&{src:h[D]}||d,c=function(a){!a||a.message.indexOf("Timeout: ")>-1||a.message.indexOf("CrossStorageClient ")>-1||(h.thn&&h.thn.container?h.thn.container.monitor.addError(a):h.console&&console.error&&console.error(a))},l=function(){const a=new URL(i.src);a.protocol="https:";const C=a.origin,P="".concat(C,"/widget/core/latest/hub/"),G=h.thn&&h.thn.bottle&&h.thn.bottle.container&&h.thn.bottle.container.has("crossLocalStorage")&&h.thn.bottle.container.crossLocalStorage||new $(P,{frameId:V});return G.onConnect().then(()=>G.get("thn.data._ENV")).catch(()=>"").then(_=>{if(_&&(o=JSON.parse(_)),o.host){const S=new URL(o.host);Object.assign(a,{protocol:S.protocol,host:S.host})}else if(o.hostname)a.host=o.hostname;else if(o.environment&&M[o.environment]){const S=new URL(M[o.environment].host);Object.assign(a,{protocol:S.protocol,host:S.host})}if("caches"in h)return K(h.caches,S=>S.url.includes(a.host))}).then(()=>z(a)).then(_=>A({params:_,baseUrl:a})).then(_=>{var S,j;const w=_.data&&_.data.init_thn_data;w&&(_.data.init_thn_data._ENV=o),_._ENV=o;const Q=(S=(j=w?.version)!==null&&j!==void 0?j:_.defaultVersion)!==null&&S!==void 0?S:M.__common__.latest,q="index",U="".concat(o.minified===void 0||o.minified?".min":"",".js"),E="".concat(q).concat(U),tt=_.checksums&&_.checksums.main&&_.checksums.main[E],et=new URL(a.toString().split("?")[0]);return et.pathname="/widget/core/".concat(Q,"/dist/main/").concat(E),tt&&et.searchParams.set("h",tt),s=x(["DataLayerHelper"]),Promise.all([h.thn.System.import(et.toString()),_])}).then(_=>{let[S,j]=_;s(),s=void 0;const w=S.default;if(h.thn)try{w.System=h.thn.System}catch{}return h.thn=w,!("getPidOrAccount"in w)&&(Object.assign(w,m),w.bottle.factory("domReady",()=>R),w.bottle.factory("constructors.CrossStorageClient",()=>$),w.bottle.factory("crossLocalStorage",()=>G),w.bottle.factory("crossSessionStorage",q=>new q.constructors.CrossStorageClient(P,{frameId:V,store:"sessionStorage"})),w.bottle.factory("crossCookieStorage",q=>new q.constructors.CrossStorageClient(P,{frameId:V,store:"cookieStorage"})),w.bottle.factory("getLoaderData",()=>A),w.bottle.factory("getPidOrAccount",()=>z)),w.bootload(j).then(()=>[w,j])}).then(_=>{let[S,j]=_;if(j.data)S.identityCheck({loader:j});else{const w=a.searchParams.get("partnership_id")||"";S.partnershipCheck(w)}})};h.__thnScriptTimer&&clearTimeout(h.__thnScriptTimer),h.__thnScriptTimer=setTimeout(()=>{delete h.__thnScriptTimer;function y(){R().then(l).catch(c)}try{l().catch(y)}catch{y()}},0)})()}()})();
